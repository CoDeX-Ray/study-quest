import{c as N,j as e,u as y,a as w,b as P,r as n,s as x}from"./index-BiV2nWtb.js";import{X as S}from"./XPBar-BS809Hk-.js";import{C as c}from"./card-C3ClMb3F.js";import{P as A}from"./progress-C3zHtEE5.js";import{A as g}from"./award-DEkRhirh.js";import{T as C}from"./trophy-CGyPtIku.js";import{S as k}from"./share-2-BPs8YGKw.js";import{T as M}from"./target-CVHOL6zq.js";const T=N("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),m=({title:r,value:l,icon:d,className:i="",trend:t="neutral"})=>{const a={up:"text-game-green",down:"text-destructive",neutral:"text-muted-foreground"};return e.jsx(c,{className:`p-6 bg-gradient-card border-border/50 hover:border-game-green/50 transition-all duration-300 hover:shadow-glow ${i}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r}),e.jsx("p",{className:`text-2xl font-bold ${a[t]}`,children:l})]}),e.jsx("div",{className:"p-3 bg-surface-elevated rounded-lg text-game-green",children:d})]})})},B=()=>{const{user:r,loading:l}=y(),{isAdmin:d,loading:i}=w(),t=P(),[a,h]=n.useState(null),[u,p]=n.useState([]);n.useEffect(()=>{!l&&!r&&t("/auth")},[r,l,t]),n.useEffect(()=>{!i&&d?t("/admin/dashboard"):!i&&!d&&r&&t("/study-hall")},[d,i,t,r]),n.useEffect(()=>{r&&(f(),j())},[r]);const f=async()=>{const{data:s}=await x.from("profiles").select("*").eq("id",r?.id).single();s&&h(s)},j=async()=>{const{data:s}=await x.from("posts").select("*").eq("user_id",r?.id).order("created_at",{ascending:!1}).limit(5);s&&p(s)};if(l||!a)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});const b=[{name:"Mathematics",progress:85,color:"bg-blue-500"},{name:"Physics",progress:72,color:"bg-purple-500"},{name:"Chemistry",progress:90,color:"bg-green-500"},{name:"Biology",progress:65,color:"bg-yellow-500"},{name:"History",progress:78,color:"bg-red-500"}],v=[{title:"Study Streak",description:"7 days in a row",icon:"ðŸ”¥"},{title:"Knowledge Sharer",description:"Posted 10 study materials",icon:"ðŸ“š"},{title:"Community Helper",description:"Helped 25 students",icon:"ðŸ¤"}];return e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-4xl font-bold font-gaming",children:"Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your learning progress and achievements"})]}),e.jsxs(c,{className:"p-6 bg-gradient-card border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Your Progress"}),e.jsxs("div",{className:"flex items-center gap-2 text-level-gold",children:[e.jsx(g,{className:"h-5 w-5"}),e.jsxs("span",{className:"font-semibold",children:["Level ",a.level]})]})]}),e.jsx(S,{currentXP:a.xp,maxXP:a.level*100,level:a.level})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(m,{title:"Total XP",value:a.xp,icon:e.jsx(C,{className:"h-6 w-6"}),trend:"up"}),e.jsx(m,{title:"Materials Shared",value:u.length,icon:e.jsx(k,{className:"h-6 w-6"}),trend:"up"}),e.jsx(m,{title:"Current Level",value:a.level,icon:e.jsx(g,{className:"h-6 w-6"}),trend:"up"}),e.jsx(m,{title:"Role",value:a.role,icon:e.jsx(M,{className:"h-6 w-6"}),trend:"neutral"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs(c,{className:"p-6 bg-gradient-card border-border/50",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Subject Progress"}),e.jsx("div",{className:"space-y-6",children:b.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.progress,"%"]})]}),e.jsx(A,{value:s.progress,className:"h-2 bg-muted"})]},s.name))})]}),e.jsxs(c,{className:"p-6 bg-gradient-card border-border/50",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Recent Achievements"}),e.jsx("div",{className:"space-y-4",children:v.map((s,o)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-surface-elevated rounded-lg hover:bg-surface-overlay transition-colors",children:[e.jsx("div",{className:"text-2xl",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsx("div",{className:"text-game-green font-semibold",children:"+50 XP"})]},o))})]})]}),e.jsxs(c,{className:"p-6 bg-gradient-card border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(T,{className:"h-5 w-5 text-game-green"}),e.jsx("h3",{className:"text-xl font-semibold",children:"Study Activity"})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:Array.from({length:35},(s,o)=>e.jsx("div",{className:`h-10 rounded-lg border border-border/50 flex items-center justify-center text-sm transition-all hover:border-game-green/50 ${Math.random()>.3?"bg-game-green/20 text-game-green font-medium":"bg-surface-elevated text-muted-foreground hover:bg-surface-overlay"}`,children:o+1},o))})]})]})})};export{B as default};
